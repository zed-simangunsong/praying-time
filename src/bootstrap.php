<?php
/**
 * Copyright (c) 2024. by zed-simangunsong
 *
 * @license     MIT License
 * @copyright   Copyright (2) 2024, zed-simangunsong
 */
/*
|--------------------------------------------------------------------------
| Start session.
|--------------------------------------------------------------------------
|
*/
session_start();

if (!isset($_SESSION['token']) || empty($_SESSION['token'])) {
    $_SESSION['token'] = bin2hex(random_bytes(32));
}

/*
|--------------------------------------------------------------------------
| Root directory.
|--------------------------------------------------------------------------
|
*/
define('ROOT_PATH', __DIR__ . '/');

/*
|--------------------------------------------------------------------------
| Public directory.
|--------------------------------------------------------------------------
|
*/
define('PUBLIC_PATH', ROOT_PATH . 'public/');

/*
|----------------------- ---------------------------------------------------
| App directory.
|--------------------------------------------------------------------------
|
*/
define('APP_PATH', ROOT_PATH . '../src/app/');

/*
|--------------------------------------------------------------------------
| System directory.
|--------------------------------------------------------------------------
|
*/
define('VIEW_PATH', APP_PATH . 'Views/');

/*
|--------------------------------------------------------------------------
| Cache directory.
|--------------------------------------------------------------------------
|
*/
define('CACHE_PATH', ROOT_PATH . '../cache/');

/*
|--------------------------------------------------------------------------
| Cache directory.
|--------------------------------------------------------------------------
|
*/
define('CACHE_VIEW', CACHE_PATH . 'Views/');

/*
|--------------------------------------------------------------------------
| Composer autoloader.
|--------------------------------------------------------------------------
*/
include '../vendor/autoload.php';

/*
|--------------------------------------------------------------------------
| Load environment configurations.
|--------------------------------------------------------------------------
*/
$env = Dotenv\Dotenv::createImmutable(__DIR__ . DIRECTORY_SEPARATOR . '..');
$env->load();

/*
|--------------------------------------------------------------------------
| App base url.
|--------------------------------------------------------------------------
|
*/
define('BASE_URL', env('BASE_URL', '/'));